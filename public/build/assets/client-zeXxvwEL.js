import{B as l}from"./app-wbJa4e37.js";const s=l.create({baseURL:"/api/v1",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0});s.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));s.interceptors.response.use(e=>e,e=>{var a,o,n,r,i;((a=e.response)==null?void 0:a.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),window.location.href="/login");let t="An error occurred";return(n=(o=e.response)==null?void 0:o.data)!=null&&n.errors?t=Object.values(e.response.data.errors).flat().join(", "):(i=(r=e.response)==null?void 0:r.data)!=null&&i.message?t=e.response.data.message:e.message&&(t=e.message),e.userMessage=t,Promise.reject(e)});const g={generate:e=>s.post("/analysis/generate",e),getHistory:e=>s.get("/analysis/history",{params:e}),getById:e=>s.get(`/analysis/${e}`),delete:e=>s.delete(`/analysis/${e}`),getStats:()=>s.get("/analysis/stats"),export:e=>s.get("/analysis/export",{params:e})};export{s as a,g as b};
