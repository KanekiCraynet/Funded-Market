import{m as J,h as M,n as i,c as d,g as l,i as E,b as e,p as O,q as st,t as h,o as z,d as k,w as x,s as q,f as j,F as N,x as H,a as U,l as L,r as Q,j as xt,u as bt,e as tt}from"./app-wbJa4e37.js";import{a as T}from"./client-zeXxvwEL.js";const ot=J("history",()=>{const t=M([]),s=M(null),o=M(!1),a=M(null),y=M(null),n=M({symbol:null,recommendation:null,date_from:null,date_to:null,search:""}),v=M({by:"created_at",order:"desc"}),u=M({currentPage:1,lastPage:1,perPage:20,total:0});async function m(_={}){o.value=!0,a.value=null;try{const w=await T.get("/analysis/history",{params:{symbol:n.value.symbol,recommendation:n.value.recommendation,date_from:n.value.date_from,date_to:n.value.date_to,search:n.value.search,sort_by:v.value.by,order:v.value.order,per_page:u.value.perPage,page:u.value.currentPage,..._}});w.data.success&&(t.value=w.data.data.data||w.data.data,w.data.data.pagination&&(u.value={currentPage:w.data.data.pagination.current_page,lastPage:w.data.data.pagination.last_page,perPage:w.data.data.pagination.per_page,total:w.data.data.pagination.total}),y.value=new Date)}catch(w){a.value=w.message||"Failed to fetch history",console.error("Error fetching history:",w)}finally{o.value=!1}}async function r(){try{const _=await T.get("/analysis/stats");_.data.success&&(s.value=_.data.data)}catch(_){console.error("Error fetching stats:",_)}}async function S(_){try{if((await T.delete(`/analysis/${_}`)).data.success)return t.value=t.value.filter(D=>D.id!==_),r(),!0}catch(w){throw console.error("Error deleting analysis:",w),w}}async function $(_="csv"){try{const w=await T.post("/analysis/export",{format:_,filters:n.value},{responseType:"blob"}),D=window.URL.createObjectURL(new Blob([w.data])),B=document.createElement("a");return B.href=D,B.setAttribute("download",`analysis-history-${Date.now()}.${_}`),document.body.appendChild(B),B.click(),B.remove(),!0}catch(w){throw console.error("Error exporting history:",w),w}}function c(_){n.value={...n.value,..._},u.value.currentPage=1,m()}function g(_){v.value={...v.value,..._},m()}function b(_){u.value.currentPage=_,m()}function f(){n.value={symbol:null,recommendation:null,date_from:null,date_to:null,search:""},m()}function A(){a.value=null}const I=i(()=>{let _=[...t.value];if(n.value.search){const w=n.value.search.toLowerCase();_=_.filter(D=>{var B,Z;return((B=D.symbol)==null?void 0:B.toLowerCase().includes(w))||((Z=D.instrument_name)==null?void 0:Z.toLowerCase().includes(w))})}return _}),G=i(()=>I.value),K=i(()=>t.value.length>0),Y=i(()=>u.value.lastPage),W=i(()=>s.value?{totalAnalyses:s.value.total_analyses||0,buyRecommendations:s.value.buy_count||0,sellRecommendations:s.value.sell_count||0,holdRecommendations:s.value.hold_count||0,averageConfidence:s.value.avg_confidence||0,mostAnalyzedSymbol:s.value.most_analyzed_symbol||null}:null),p=i(()=>!s.value||!s.value.total_analyses?0:s.value.buy_count/s.value.total_analyses*100),C=i(()=>!s.value||!s.value.total_analyses?0:s.value.sell_count/s.value.total_analyses*100),P=i(()=>!s.value||!s.value.total_analyses?0:s.value.hold_count/s.value.total_analyses*100);return{analyses:t,stats:s,loading:o,error:a,lastUpdate:y,filters:n,sort:v,pagination:u,fetchHistory:m,fetchStats:r,deleteAnalysis:S,exportHistory:$,updateFilters:c,updateSort:g,goToPage:b,clearFilters:f,clearError:A,filteredHistory:I,paginatedHistory:G,hasHistory:K,totalPages:Y,performanceMetrics:W,buyPercentage:p,sellPercentage:C,holdPercentage:P}}),rt=J("market",()=>{const t=M(null),s=M([]),o=M("BTCUSDT"),a=M({}),y=M(!1),n=M(null),v=M({total:0,currentPage:1,lastPage:1,perPage:20});let u=null;const m=i(()=>s.value.find(p=>p.symbol===o.value)),r=i(()=>a.value[o.value]||null),S=i(()=>{var p;return((p=t.value)==null?void 0:p.trending)||[]}),$=i(()=>{var p;return((p=t.value)==null?void 0:p.top_gainers)||[]}),c=i(()=>{var p;return((p=t.value)==null?void 0:p.top_losers)||[]}),g=i(()=>s.value.length>0);async function b(){var p,C;y.value=!0,n.value=null;try{const P=await T.get("/market/overview");t.value=P.data.data}catch(P){n.value=((C=(p=P.response)==null?void 0:p.data)==null?void 0:C.message)||"Failed to fetch market overview",console.error("Market overview error:",P)}finally{y.value=!1}}const f=b;async function A(p={}){try{const C=await T.get("/market/instruments",{params:p});C.data.success&&(s.value=C.data.data.data||C.data.data,C.data.data.pagination&&(v.value={total:C.data.data.pagination.total,currentPage:C.data.data.pagination.current_page,lastPage:C.data.data.pagination.last_page,perPage:C.data.data.pagination.per_page}))}catch(C){console.error("Fetch instruments error:",C)}}async function I(p){try{const C=await T.get(`/market/data/${p}`);a.value[p]=C.data.data}catch(C){console.error(`Fetch market data error for ${p}:`,C)}}async function G(p,C="1h",P=100){try{return(await T.get(`/market/history/${p}`,{params:{timeframe:C,limit:P}})).data.data}catch(_){return console.error(`Fetch historical data error for ${p}:`,_),[]}}function K(p){o.value=p,I(p)}function Y(p=3e4){W(),b(),o.value&&I(o.value),u=setInterval(()=>{b(),o.value&&I(o.value)},p)}function W(){u&&(clearInterval(u),u=null)}return{overview:t,instruments:s,selectedSymbol:o,marketData:a,isLoading:y,error:n,pagination:v,currentInstrument:m,priceData:r,trendingInstruments:S,topGainers:$,topLosers:c,hasInstruments:g,fetchMarketOverview:b,fetchOverview:f,fetchInstruments:A,fetchMarketData:I,fetchHistoricalData:G,setSelectedSymbol:K,startPolling:Y,stopPolling:W}}),et={AUTH_TOKEN:"auth_token",USER_PREFERENCES:"user_preferences",THEME_MODE:"theme_mode",WATCHLIST:"watchlist",LAST_SYMBOL:"last_selected_symbol"},nt=J("watchlist",()=>{const t=M([]),s=M(!1),o=M(null),a=()=>{try{const f=localStorage.getItem(et.WATCHLIST);f&&(t.value=JSON.parse(f))}catch(f){console.error("Error loading watchlist from storage:",f)}},y=()=>{try{localStorage.setItem(et.WATCHLIST,JSON.stringify(t.value))}catch(f){console.error("Error saving watchlist to storage:",f)}};function n(f){return t.value.find(I=>I.symbol===f.symbol)?!1:(t.value.push({symbol:f.symbol,name:f.name,type:f.type,addedAt:new Date().toISOString()}),y(),!0)}function v(f){const A=t.value.findIndex(I=>I.symbol===f);return A!==-1?(t.value.splice(A,1),y(),!0):!1}function u(f){return S(f.symbol)?(v(f.symbol),!1):(n(f),!0)}function m(){t.value=[],y()}function r(){o.value=null}const S=i(()=>f=>t.value.some(A=>A.symbol===f)),$=i(()=>t.value.length>0),c=i(()=>t.value.length),g=i(()=>[...t.value].sort((f,A)=>new Date(A.addedAt)-new Date(f.addedAt))),b=i(()=>[...t.value].sort((f,A)=>f.symbol.localeCompare(A.symbol)));return a(),{instruments:t,loading:s,error:o,addToWatchlist:n,removeFromWatchlist:v,toggleWatchlist:u,clearWatchlist:m,clearError:r,isInWatchlist:S,hasInstruments:$,watchlistCount:c,sortedByAddedDate:g,sortedBySymbol:b}}),V=(t,s)=>{const o=t.__vccOpts||t;for(const[a,y]of s)o[a]=y;return o},wt={key:0,class:"card-header"},kt={key:0,class:"card-title"},$t={class:"card-body"},Ct={key:1,class:"card-footer"},St={__name:"Card",props:{title:{type:String,default:""},variant:{type:String,default:"default",validator:t=>["default","bordered","elevated","glass"].includes(t)},padding:{type:String,default:"md",validator:t=>["none","sm","md","lg"].includes(t)},hoverable:{type:Boolean,default:!1}},setup(t){const s=t,o=i(()=>{const a=["card",`card-${s.variant}`,`card-padding-${s.padding}`];return s.hoverable&&a.push("card-hoverable"),a.join(" ")});return(a,y)=>(l(),d("div",{class:st(o.value)},[a.$slots.header||t.title?(l(),d("div",wt,[O(a.$slots,"header",{},()=>[t.title?(l(),d("h3",kt,h(t.title),1)):E("",!0)])])):E("",!0),e("div",$t,[O(a.$slots,"default",{},void 0)]),a.$slots.footer?(l(),d("div",Ct,[O(a.$slots,"footer",{},void 0)])):E("",!0)],2))}},F=V(St,[["__scopeId","data-v-a0443a40"]]),Mt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},jt={class:"flex items-center justify-between"},At={class:"text-3xl font-bold text-white"},It={class:"flex items-center justify-between"},Lt={class:"text-3xl font-bold text-white"},Pt={class:"flex items-center justify-between"},Bt={class:"text-3xl font-bold text-white"},Tt={class:"flex items-center justify-between"},Ft={class:"text-3xl font-bold text-white"},Dt={__name:"QuickStatsGrid",setup(t){const s=ot(),o=rt(),a=nt(),y=i(()=>{var m;return((m=s.stats)==null?void 0:m.total_analyses)||0}),n=i(()=>{var r,S;const m=((r=s.stats)==null?void 0:r.avg_confidence)||((S=s.stats)==null?void 0:S.average_confidence)||0;return Math.round(m*100)}),v=i(()=>{var m;return((m=o.pagination)==null?void 0:m.total)||0}),u=i(()=>a.watchlistCount||0);return z(async()=>{s.stats||await s.fetchStats(),o.hasInstruments||await o.fetchInstruments({per_page:1})}),(m,r)=>(l(),d("div",Mt,[k(F,{padding:"md",variant:"glass",hoverable:""},{default:x(()=>[e("div",jt,[e("div",null,[r[0]||(r[0]=e("p",{class:"text-sm text-gray-400 mb-1"},"Total Analyses",-1)),e("p",At,h(y.value),1),r[1]||(r[1]=e("p",{class:"text-xs text-green-400 mt-1"},"All time",-1))]),r[2]||(r[2]=e("div",{class:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1))])]),_:1}),k(F,{padding:"md",variant:"glass",hoverable:""},{default:x(()=>[e("div",It,[e("div",null,[r[3]||(r[3]=e("p",{class:"text-sm text-gray-400 mb-1"},"Avg Confidence",-1)),e("p",Lt,h(n.value)+"%",1),r[4]||(r[4]=e("p",{class:"text-xs text-blue-400 mt-1"},"Accuracy score",-1))]),r[5]||(r[5]=e("div",{class:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),_:1}),k(F,{padding:"md",variant:"glass",hoverable:""},{default:x(()=>[e("div",Pt,[e("div",null,[r[6]||(r[6]=e("p",{class:"text-sm text-gray-400 mb-1"},"Instruments",-1)),e("p",Bt,h(v.value),1),r[7]||(r[7]=e("p",{class:"text-xs text-yellow-400 mt-1"},"Available",-1))]),r[8]||(r[8]=e("div",{class:"w-12 h-12 rounded-full bg-yellow-500/20 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1))])]),_:1}),k(F,{padding:"md",variant:"glass",hoverable:""},{default:x(()=>[e("div",Tt,[e("div",null,[r[9]||(r[9]=e("p",{class:"text-sm text-gray-400 mb-1"},"Watchlist",-1)),e("p",Ft,h(u.value),1),r[10]||(r[10]=e("p",{class:"text-xs text-pink-400 mt-1"},"Favorites",-1))]),r[11]||(r[11]=e("div",{class:"w-12 h-12 rounded-full bg-pink-500/20 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])],-1))])]),_:1})]))}};function at(t,s="USD",o={}){const a={style:"currency",currency:s,minimumFractionDigits:2,maximumFractionDigits:8,...o};return new Intl.NumberFormat("en-US",a).format(t)}function lt(t){return t>=1e9?`${(t/1e9).toFixed(2)}B`:t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(0)}function it(t,s=2){return`${t>=0?"+":""}${t.toFixed(s)}%`}function Nt(t,s=0){return`${(t*100).toFixed(s)}%`}function X(t,s="short"){const o=new Date(t),a={short:{month:"short",day:"numeric",year:"numeric"},long:{weekday:"long",year:"numeric",month:"long",day:"numeric"},time:{hour:"2-digit",minute:"2-digit"},datetime:{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}};return o.toLocaleString("en-US",a[s]||a.short)}function ct(t){const s=new Date,o=new Date(t),a=Math.floor((s-o)/1e3),y={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};for(const[n,v]of Object.entries(y)){const u=Math.floor(a/v);if(u>=1)return`${u} ${n}${u!==1?"s":""} ago`}return"just now"}function Ht(t,s=3){return Number(t).toFixed(s)}function dt(t,s=2,o=8){return new Intl.NumberFormat("en-US",{minimumFractionDigits:s,maximumFractionDigits:o}).format(t)}function Rt(t){return at(lt(t))}function Wt(t,s=100){return t.length<=s?t:t.substring(0,s)+"..."}function Et(t){return{short_term:"Short Term",medium_term:"Medium Term",long_term:"Long Term"}[t]||t}function ut(t){return(t==null?void 0:t.toUpperCase())||"UNKNOWN"}function mt(t){return(t==null?void 0:t.toUpperCase())||"UNKNOWN"}function Ot(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function zt(t){return t>.3?"Positive":t<-.3?"Negative":"Neutral"}function ft(t,s=2){return it(t,s)}function vt(t,s=2){return new Intl.NumberFormat("en-US",{minimumFractionDigits:s,maximumFractionDigits:s}).format(t)}function pt(t){return X(t,"datetime")}function ht(t,s=2){return`${t>=0?"+":""}${t.toFixed(s)}%`}function gt(t){return typeof t=="number"?`${Math.round(t*100)}%`:"0%"}function yt(t){return typeof t=="number"?t>.5?"Strong Buy":t>0?"Buy":t<-.5?"Strong Sell":t<0?"Sell":"Neutral":String(t).toUpperCase()}const Ut=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Ot,formatChange:ht,formatCompactNumber:lt,formatConfidence:gt,formatCurrency:at,formatDate:X,formatDateTime:pt,formatDecimalAsPercentage:Nt,formatNumber:vt,formatPercent:ft,formatPercentage:it,formatPrice:dt,formatRecommendation:mt,formatRelativeTime:ct,formatRiskLevel:ut,formatScore:Ht,formatSentiment:zt,formatSignal:yt,formatTimeHorizon:Et,formatVolume:Rt,truncateText:Wt},Symbol.toStringTag,{value:"Module"}));function _t(){return{...Ut,formatPrice:dt,formatPercent:ft,formatNumber:vt,formatDate:X,formatDateTime:pt,formatRelativeTime:ct,formatChange:ht,formatConfidence:gt,formatRiskLevel:ut,formatRecommendation:mt,formatSignal:yt}}const Vt={__name:"Badge",props:{variant:{type:String,default:"default",validator:t=>["default","primary","success","danger","warning","info","buy","sell","hold","risk-low","risk-medium","risk-high","bullish","bearish","neutral"].includes(t)},size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},dot:{type:Boolean,default:!1},pill:{type:Boolean,default:!0}},setup(t){const s=t,o=i(()=>{const a=["badge",`badge-${s.variant}`,`badge-${s.size}`];return s.pill&&a.push("badge-pill"),s.dot&&a.push("badge-dot"),a.join(" ")});return(a,y)=>(l(),d("span",{class:st(o.value)},[O(a.$slots,"default",{},void 0)],2))}},R=V(Vt,[["__scopeId","data-v-003002ef"]]),Gt={key:0,class:"flex justify-center py-8"},Kt={key:1,class:"text-red-400 text-center py-4"},Yt={key:2,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Jt={class:"space-y-2"},qt={key:0,class:"space-y-1.5"},Qt=["onClick"],Xt={class:"font-semibold text-white text-sm"},Zt={class:"text-xs text-gray-400"},te={class:"text-right"},ee={key:1,class:"text-gray-500 text-sm text-center py-4"},se={class:"space-y-2"},oe={key:0,class:"space-y-1.5"},re=["onClick"],ne={class:"font-semibold text-white text-sm"},ae={class:"text-xs text-gray-400"},le={class:"text-right"},ie={key:1,class:"text-gray-500 text-sm text-center py-4"},ce={class:"space-y-2"},de={key:0,class:"space-y-1.5"},ue=["onClick"],me={class:"font-semibold text-white text-sm"},fe={class:"text-xs text-gray-400"},ve={class:"text-right"},pe={key:1,class:"text-gray-500 text-sm text-center py-4"},he={__name:"MarketOverviewWidget",setup(t){const s=U(),o=rt(),{formatPrice:a,formatPercent:y}=_t(),n=i(()=>o.loading),v=i(()=>o.error),u=i(()=>o.topGainers),m=i(()=>o.topLosers),r=i(()=>o.trending);function S($){s.push({name:"instrument-detail",params:{symbol:$}})}return z(async()=>{o.overview||await o.fetchOverview()}),($,c)=>(l(),q(F,{title:"Market Overview",variant:"glass"},{default:x(()=>[n.value?(l(),d("div",Gt,[...c[0]||(c[0]=[e("div",{class:"spinner"},null,-1)])])):v.value?(l(),d("div",Kt,h(v.value),1)):(l(),d("div",Yt,[e("div",Jt,[c[1]||(c[1]=e("h4",{class:"text-green-400 font-semibold text-sm flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),j(" Top Gainers ")],-1)),u.value.length>0?(l(),d("div",qt,[(l(!0),d(N,null,H(u.value.slice(0,5),g=>(l(),d("div",{key:g.symbol,class:"flex items-center justify-between p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors cursor-pointer",onClick:b=>S(g.symbol)},[e("div",null,[e("div",Xt,h(g.symbol),1),e("div",Zt,h(L(a)(g.price)),1)]),e("div",te,[k(R,{variant:"success",size:"sm"},{default:x(()=>[j(h(L(y)(g.change_percent_24h,2,!0)),1)]),_:2},1024)])],8,Qt))),128))])):(l(),d("div",ee," No data "))]),e("div",se,[c[2]||(c[2]=e("h4",{class:"text-red-400 font-semibold text-sm flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})]),j(" Top Losers ")],-1)),m.value.length>0?(l(),d("div",oe,[(l(!0),d(N,null,H(m.value.slice(0,5),g=>(l(),d("div",{key:g.symbol,class:"flex items-center justify-between p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors cursor-pointer",onClick:b=>S(g.symbol)},[e("div",null,[e("div",ne,h(g.symbol),1),e("div",ae,h(L(a)(g.price)),1)]),e("div",le,[k(R,{variant:"danger",size:"sm"},{default:x(()=>[j(h(L(y)(g.change_percent_24h,2,!0)),1)]),_:2},1024)])],8,re))),128))])):(l(),d("div",ie," No data "))]),e("div",ce,[c[3]||(c[3]=e("h4",{class:"text-purple-400 font-semibold text-sm flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),j(" Trending ")],-1)),r.value.length>0?(l(),d("div",de,[(l(!0),d(N,null,H(r.value.slice(0,5),g=>(l(),d("div",{key:g.symbol,class:"flex items-center justify-between p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors cursor-pointer",onClick:b=>S(g.symbol)},[e("div",null,[e("div",me,h(g.symbol),1),e("div",fe,h(L(a)(g.price)),1)]),e("div",ve,[k(R,{variant:g.change_percent_24h>0?"success":g.change_percent_24h<0?"danger":"default",size:"sm"},{default:x(()=>[j(h(L(y)(g.change_percent_24h,2,!0)),1)]),_:2},1032,["variant"])])],8,ue))),128))])):(l(),d("div",pe," No data "))])]))]),_:1}))}},ge=V(he,[["__scopeId","data-v-bd19c612"]]),ye={class:"flex items-center justify-between w-full"},_e={key:0,class:"flex justify-center py-8"},xe={key:1,class:"text-red-400 text-center py-4"},be={key:2,class:"text-center py-8"},we={key:3,class:"space-y-3"},ke=["onClick"],$e={class:"flex items-start justify-between mb-2"},Ce={class:"flex items-center gap-2"},Se={class:"font-semibold text-white"},Me={class:"text-sm text-gray-400 mt-1"},je={class:"text-right"},Ae={class:"text-sm font-semibold text-white"},Ie={class:"flex items-center justify-between text-sm"},Le={class:"flex items-center gap-3"},Pe={class:"text-gray-400"},Be={class:"text-purple-400 text-xs"},Te={__name:"RecentAnalysesWidget",setup(t){const s=U(),o=ot(),{formatConfidence:a,formatRelativeTime:y}=_t(),n=i(()=>o.loading),v=i(()=>o.error),u=i(()=>o.analyses.slice(0,5));function m($){return{BUY:"buy",SELL:"sell",HOLD:"hold"}[$]||"default"}function r($){return{LOW:"risk-low",MEDIUM:"risk-medium",HIGH:"risk-high"}[$]||"default"}function S($){s.push({name:"analysis-detail",params:{id:$}})}return z(async()=>{(!o.analyses||o.analyses.length===0)&&await o.fetchHistory({per_page:5})}),($,c)=>{const g=Q("router-link");return l(),q(F,{title:"Recent Analyses",variant:"glass"},{header:x(()=>[e("div",ye,[c[1]||(c[1]=e("h3",{class:"text-xl font-semibold text-white"},"Recent Analyses",-1)),k(g,{to:{name:"history"},class:"text-sm text-purple-400 hover:text-purple-300 transition-colors"},{default:x(()=>[...c[0]||(c[0]=[j(" View All â†’ ",-1)])]),_:1})])]),default:x(()=>[n.value?(l(),d("div",_e,[...c[2]||(c[2]=[e("div",{class:"spinner"},null,-1)])])):v.value?(l(),d("div",xe,h(v.value),1)):u.value.length===0?(l(),d("div",be,[c[4]||(c[4]=e("svg",{class:"w-16 h-16 mx-auto text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),c[5]||(c[5]=e("p",{class:"text-gray-400"},"No analyses yet",-1)),k(g,{to:{name:"analysis"},class:"inline-block mt-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-white text-sm transition-colors"},{default:x(()=>[...c[3]||(c[3]=[j(" Generate Your First Analysis ",-1)])]),_:1})])):(l(),d("div",we,[(l(!0),d(N,null,H(u.value,b=>{var f;return l(),d("div",{key:b.id,class:"p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-all cursor-pointer border border-white/5 hover:border-white/20",onClick:A=>S(b.id)},[e("div",$e,[e("div",null,[e("div",Ce,[e("h4",Se,h(b.symbol),1),k(R,{variant:m(b.recommendation)},{default:x(()=>[j(h(b.recommendation),1)]),_:2},1032,["variant"])]),e("p",Me,h(b.instrument_name),1)]),e("div",je,[e("div",Ae,h(L(a)(b.confidence)),1),c[6]||(c[6]=e("div",{class:"text-xs text-gray-400"},"Confidence",-1))])]),e("div",Ie,[e("div",Le,[k(R,{variant:r(b.risk_level),size:"sm"},{default:x(()=>[j(h(b.risk_level)+" RISK ",1)]),_:2},1032,["variant"]),e("span",Pe,h(L(y)(b.created_at)),1)]),e("div",Be,h((f=b.time_horizon)==null?void 0:f.replace("_"," ").toUpperCase()),1)])],8,ke)}),128))]))]),_:1})}}},Fe=V(Te,[["__scopeId","data-v-ea3fa0b3"]]),De={class:"flex items-center justify-between w-full"},Ne={key:0,class:"text-center py-8"},He={key:1,class:"space-y-2"},Re=["onClick"],We={class:"flex items-center gap-3"},Ee=["onClick"],Oe={class:"font-semibold text-white text-sm"},ze={class:"text-xs text-gray-400"},Ue={class:"text-right"},Ve={class:"text-sm text-gray-400"},Ge={key:0,class:"text-center pt-2"},Ke={__name:"WatchlistWidget",setup(t){const s=U(),o=nt(),a=i(()=>o.hasInstruments),y=i(()=>o.sortedByAddedDate),n=i(()=>o.watchlistCount);function v(m){s.push({name:"instrument-detail",params:{symbol:m}})}function u(m){o.removeFromWatchlist(m)}return(m,r)=>{const S=Q("router-link");return l(),q(F,{title:"Watchlist",variant:"glass"},{header:x(()=>[e("div",De,[r[1]||(r[1]=e("h3",{class:"text-xl font-semibold text-white"},"Watchlist",-1)),k(S,{to:{name:"watchlist"},class:"text-sm text-purple-400 hover:text-purple-300 transition-colors"},{default:x(()=>[...r[0]||(r[0]=[j(" Manage â†’ ",-1)])]),_:1})])]),default:x(()=>[a.value?(l(),d("div",He,[(l(!0),d(N,null,H(y.value.slice(0,5),$=>(l(),d("div",{key:$.symbol,class:"flex items-center justify-between p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors cursor-pointer group",onClick:c=>v($.symbol)},[e("div",We,[e("button",{onClick:xt(c=>u($.symbol),["stop"]),class:"text-pink-500 hover:text-pink-400 opacity-0 group-hover:opacity-100 transition-opacity"},[...r[5]||(r[5]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)])],8,Ee),e("div",null,[e("div",Oe,h($.symbol),1),e("div",ze,h($.name),1)])]),e("div",Ue,[e("div",Ve,h($.type),1)])],8,Re))),128)),n.value>5?(l(),d("div",Ge,[k(S,{to:{name:"watchlist"},class:"text-sm text-purple-400 hover:text-purple-300"},{default:x(()=>[j(" + "+h(n.value-5)+" more ",1)]),_:1})])):E("",!0)])):(l(),d("div",Ne,[r[3]||(r[3]=e("svg",{class:"w-16 h-16 mx-auto text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),r[4]||(r[4]=e("p",{class:"text-gray-400 mb-4"},"No instruments in watchlist",-1)),k(S,{to:{name:"market"},class:"inline-block px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-white text-sm transition-colors"},{default:x(()=>[...r[2]||(r[2]=[j(" Browse Market ",-1)])]),_:1})]))]),_:1})}}},Ye={class:"min-h-screen"},Je={class:"border-b border-white/10 backdrop-blur-lg bg-white/5"},qe={class:"container mx-auto px-4 py-4"},Qe={class:"flex items-center justify-between"},Xe={class:"hidden md:flex items-center gap-6"},Ze={class:"flex items-center gap-4"},ts={class:"text-white text-sm"},es={class:"container mx-auto px-4 py-8"},ss={class:"mb-8"},os={class:"text-3xl font-bold mb-2"},rs={class:"grid md:grid-cols-2 gap-6 mb-8"},ns={class:"card bg-gradient-to-br from-purple-500/20 to-pink-500/20 border-white/10"},as={class:"flex items-center gap-4"},ls={class:"card bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border-white/10"},is={class:"flex items-center gap-4"},cs={class:"grid lg:grid-cols-2 gap-6"},ms={__name:"DashboardPage",setup(t){const s=U(),o=bt();z(async()=>{await o.checkAuth()});async function a(){await o.logout(),s.push("/")}return(y,n)=>{var u,m;const v=Q("router-link");return l(),d("div",Ye,[e("header",Je,[e("div",qe,[e("div",Qe,[n[4]||(n[4]=e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),e("h1",{class:"text-2xl font-bold"},"Market Analysis")],-1)),e("nav",Xe,[k(v,{to:"/dashboard",class:"text-white hover:text-purple-400 transition"},{default:x(()=>[...n[0]||(n[0]=[j("Dashboard",-1)])]),_:1}),k(v,{to:"/analysis",class:"text-white hover:text-purple-400 transition"},{default:x(()=>[...n[1]||(n[1]=[j("Analysis",-1)])]),_:1}),k(v,{to:"/history",class:"text-white hover:text-purple-400 transition"},{default:x(()=>[...n[2]||(n[2]=[j("History",-1)])]),_:1})]),e("div",Ze,[e("div",ts,h((u=L(o).user)==null?void 0:u.name),1),e("button",{onClick:a,class:"text-white hover:text-purple-400"},[...n[3]||(n[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])])])])])]),e("div",es,[e("div",ss,[e("h2",os,"Welcome back, "+h((m=L(o).user)==null?void 0:m.name)+"! ðŸ‘‹",1),n[5]||(n[5]=e("p",{class:"text-gray-400"},"Here's what's happening in the markets today",-1))]),k(Dt,{class:"mb-8"}),e("div",rs,[e("div",ns,[e("div",as,[n[7]||(n[7]=tt('<div class="p-3 bg-purple-500/30 rounded-lg"><svg class="w-8 h-8 text-purple-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path></svg></div><div class="flex-1"><h3 class="text-xl font-semibold mb-1">Generate AI Analysis</h3><p class="text-gray-400 text-sm">Get AI-powered insights on any instrument</p></div>',2)),k(v,{to:"/analysis",class:"btn-primary"},{default:x(()=>[...n[6]||(n[6]=[j("Start Analysis",-1)])]),_:1})])]),e("div",ls,[e("div",is,[n[9]||(n[9]=tt('<div class="p-3 bg-blue-500/30 rounded-lg"><svg class="w-8 h-8 text-blue-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><div class="flex-1"><h3 class="text-xl font-semibold mb-1">View History</h3><p class="text-gray-400 text-sm">Browse your past analysis results</p></div>',2)),k(v,{to:"/history",class:"btn-secondary"},{default:x(()=>[...n[8]||(n[8]=[j("View History",-1)])]),_:1})])])]),k(ge,{class:"mb-8"}),e("div",cs,[k(Fe),k(Ke)])])])}}};export{ms as default};
